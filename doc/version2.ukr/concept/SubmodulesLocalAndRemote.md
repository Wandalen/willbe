# Локальні і віддалені підмодулі

### Локальний підмодуль  

Підмодуль, який розташовується на машині користувача.  

Будь-який модуль, який розташовується на локальній машині можна підключити як підмодуль іншого модуля. Для підключення підмодуля в секції `submodule` вказується ресурс з шляхом до `will-файла` іншого модуля (створеного користувачем або експортованого утилітою). Для підключення локального підмодуля краще використовувати експортовані `some_name.out.will`-файли, оскільки вони містять інформацію про модуль і збірки по яким він побудований.  

#### Приклад локального підмодуля

![submodule.local.png](./Images/submodule.local.png)

На рисунку приведений код `will-файла` з двома локальними підмодулями - `ModuleOne` i `LocalModule`. Перший локальний підмодуль поміщається в директорії `ModuleOne`, яка знаходиться в кореневій директорії модуля (відносний шлях), а другий - в директорії за шляхом `/home/user/localModule/` (абсолютний шлях в Linux дистрибутиві).

Схематичне представлення структури модуля:   

```
/                                                  # корінь файлової системи Linux дистрибутива
├── home                            
│     ├── user                      
├──        ├── localModule
├──                 ├── localFiles                 # директорія з файлами модуля localModule 
                    │       ├── ...
                    │       ├── ...
                    │
                    └── localModule.out.will.yml   # експортований конфігураційний файл модуля localModule 
... 
       ...                          # будь-який шлях до директорії модуля local
        ├── ModuleOne               
        │       ├── moduleFile      # файли модуля ModuleOne 
        │       └── .will.yml       # конфігураційний файл модуля ModuleOne
        └── .will.yml               # конфігураційний файл модуля local
        
```  

Вибір форми запису шляхів до локальних підмодулів залежить від взаємного розташування модулів.  
Утиліта `willbe` не має інструментів по управлінню над локальними підмодулями. 

Видалення локальних підмодулів з модуля здійснюється редагуванням відповідних ресурсів `will-файла`. 

### Віддалений підмодуль  

Модуль, який знаходиться на віддаленому сервері, для використання завантажується на локальну машину. Завантажені віддалені підмодулі знаходяться в директорії <code>.module</code> в кореневому каталозі <code>will-файлa</code>.  

Для підключення віддаленого підмодуля вказується ресурс з URL-шляхом в секції `submodule`. 

Для відддалених підмодулів:  
- вивід інформації про стан (локальних і віддалених) здійснюється командою `will .submodules.list`;
- завантаження командою `will .submodules.download` або з використанням вбудованого кроку [`submodules.download`](ResourceStep.md#submodulesdownload).    
- фіксуються версії підмодуля командою `will .submodules.fixate`;
- оновлення URL-посилань на підмодулі командою `will .submodules.upgrade.refs`;
- встановлення оновлень командою `will .submodules.update` або вбудованим кроком [`submodules.update`](ResourceStep.md#submodulesupdate) (якщо є доступні оновлення);
- видалення разом з директорією `.module` фразою `will .submodules.clean` або вбудованим кроком [`submodules.clean`](ResourceStep.md#submodulesclean).    

#### Приклад секції `submodule`  

```yaml
submodule :
    Tools : git+https:///github.com/Wandalen/wTools.git/out/wTools#master
    PathFundamentals : git+https:///github.com/Wandalen/wPathFundamentals.git/out/wPathFundamentals#master
    Color : npm:///wColor/out/wColor#0.3.102

```
В секцію поміщено віддалені підмодулі `Tools` i `PathFundamentals`.